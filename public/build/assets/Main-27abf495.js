import{r,d as A,k as O,o as d,c as p,a as e,g as m,v as b,w as i,j as h,e as w,F as B,z as Y,A as q,t as c,p as F,f as y,n as v,S as G}from"./app-799b3a32.js";import{_ as J,M as U,A as Q}from"./Pagination-38309209.js";import{L as j}from"./LoadingBar-ea622fba.js";import{_ as R}from"./LoadingTable-35b90619.js";import"./_plugin-vue_export-helper-c27b6911.js";const W={class:"box-border w-full"},X={class:"w-full box-border my-8 flex items-center justify-between"},Z={class:"w-full lg:w-1/2"},ee={class:"w-full box-border relative flex items-center justify-center"},te={class:"absolute left-4"},se={class:"w-4 h-4 text-gray-600"},oe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 513.749 513.749",style:{"enable-background":"new 0 0 513.749 513.749"},"xml:space":"preserve",class:"w-full h-full fill-current"},ae=e("g",null,[e("path",{d:"M504.352,459.061l-99.435-99.477c74.402-99.427,54.115-240.344-45.312-314.746S119.261-9.277,44.859,90.15   S-9.256,330.494,90.171,404.896c79.868,59.766,189.565,59.766,269.434,0l99.477,99.477c12.501,12.501,32.769,12.501,45.269,0   c12.501-12.501,12.501-32.769,0-45.269L504.352,459.061z M225.717,385.696c-88.366,0-160-71.634-160-160s71.634-160,160-160   s160,71.634,160,160C385.623,314.022,314.044,385.602,225.717,385.696z"})],-1),le=[ae],ne={class:"flex items-center justify-center"},re={class:"w-4 h-4 mr-2"},de=e("div",null,"Tambah",-1),ie={class:"w-full box-border rounded-lg box-border overflow-hidden border border-[#3A3650]"},ce={key:1,class:"w-full text-sm text-left bg-[#2F2B43]"},ue=e("thead",{class:"text-xs text-gray-400 bg-[#3B3955] uppercase border-b border-[#3A3650]"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3 w-[10px]"},"No"),e("th",{scope:"col",class:"px-4 py-3"},"Nama"),e("th",{scope:"col",class:"px-4 py-3"},"Username"),e("th",{scope:"col",class:"px-4 py-3"},[e("div",{class:"sr-only"},"Aksi")])])],-1),pe={class:"px-4 py-3 whitespace-nowrap"},me={class:"px-4 py-3 whitespace-nowrap"},xe={class:"px-4 py-3 whitespace-nowrap"},be={class:"px-4 py-3 text-right"},fe={class:"w-full flex justify-end space-x-2"},ve=["onClick"],_e=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),he=[_e],ge=["onClick"],we=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.8",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),ye=[we],ke={class:"w-full"},Ce={colspan:"4"},Me={class:"w-full px-4 py-3 flex items-center justify-between"},De={class:"flex items-center justify-center space-x-2 text-xs"},Ae=e("span",null,"showing",-1),Be=e("option",{class:"bg-[#2F2B43]",value:10}," 10 ",-1),Fe=e("option",{class:"bg-[#2F2B43]",value:50}," 50 ",-1),Ue=e("option",{class:"bg-[#2F2B43]",value:100}," 100 ",-1),je=[Be,Fe,Ue],Se={key:1,class:"text-sm font-semibold cursor-pointer border-b bg-[#2F2B43] border-[#3A3650] text-[#9D9AB7]"},$e=e("td",{colspan:"4",class:"px-4 py-3 whitespace-nowrap text-center"}," Tidak Ada Data ",-1),Ee=[$e],Ne={class:"w-full bg-[#2A263E] text-[#EFECFD] relative overflow-hidden"},Ve={class:"w-full"},Le=e("div",{class:"bg-gray-900 font-semibold text-xl box-border w-full p-4"}," Tambah Data ",-1),Pe={class:"w-full box-border p-4"},Te={class:"mb-5"},Ie=e("label",{for:"nama",class:"text-sm text-gray-400"},"Nama",-1),Ke={class:"w-full box-border"},ze={class:"text-red-500 font-normal text-[11px] italic"},He={class:"mb-5"},Oe=e("label",{for:"username",class:"text-sm text-gray-400"},"Username",-1),Ye={class:"w-full box-border"},qe={class:"text-red-500 font-normal text-[11px] italic"},Ge={class:"mb-5"},Je=e("label",{for:"password",class:"text-sm text-gray-400"},"Password",-1),Qe={class:"w-full box-border"},Re={class:"text-red-500 font-normal text-[11px] italic"},We={class:"flex items-center justify-between py-4"},Xe={class:"flex justify-end items-center space-x-3 box-border px-4 py-2"},Ze=["onClick"],et=["onClick"],tt={class:"w-full bg-[#2A263E] text-[#EFECFD] relative overflow-hidden"},st={class:"w-full"},ot=e("div",{class:"bg-gray-900 font-semibold text-xl box-border w-full p-4"}," Update Data ",-1),at={class:"w-full box-border p-4"},lt={class:"mb-5"},nt=e("label",{for:"nama",class:"text-sm text-gray-400"},"Nama",-1),rt={class:"w-full box-border"},dt={class:"text-red-500 font-normal text-[11px] italic"},it={class:"mb-5"},ct=e("label",{for:"username",class:"text-sm text-gray-400"},"Username",-1),ut={class:"w-full box-border"},pt={class:"text-red-500 font-normal text-[11px] italic"},mt={class:"mb-5"},xt=e("label",{for:"password",class:"text-sm text-gray-400"},"Password",-1),bt={class:"w-full box-border"},ft=e("div",{class:"text-gray-400 font-normal text-[11px] italic"}," Kosongkan jika tidak ingin ubah password ",-1),vt={class:"text-red-500 font-normal text-[11px] italic"},_t={class:"flex items-center justify-between py-4"},ht={class:"flex justify-end items-center space-x-3 box-border px-4 py-2"},gt=["onClick"],wt=["onClick"],yt={class:"w-full bg-gray-900 text-[#EFECFD] relative overflow-hidden"},kt={class:"w-full"},Ct=e("div",{class:"bg-gray-900 font-semibold text-xl box-border w-full p-4"}," Delete Data ",-1),Mt=e("div",{class:"w-full bg-transparent p-4"},[e("div",{class:"w-full flex space-x-5"},[e("div",{class:"flex-none w-20 h-20 rounded bg-red-700 text-white flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])]),e("div",{class:"flex-1"},[e("div",{class:"mb-3 text-base font-semibold"}," Apakah Anda yakin ingin menghapus data User ? "),e("div",{class:"mb-3 text-sm"}," Data yang dihapus tidak bisa akan hilang secara permanen, apa anda ingin melanjutkan ? ")])])],-1),Dt={key:0,class:"flex items-center justify-between py-4 bg-gray-900"},At={class:"flex justify-end items-center space-x-3 box-border px-4 py-2"},Bt=["onClick"],Ft=["onClick"],Vt={__name:"Main",setup(Ut){const k=r([]);r([]);const{notify:_}=G();r({date:"DD-MM-YYYY",month:"MMM"});const g=r();r();const C=r(),M=r();r(),r(null);const D=r(!1),n=r(!1),u=r({current_page:1,from:null,last_page:1,per_page:10,to:null,total:0}),f=A({search:"",page:1,limit:10,order:"created_at:desc"}),a=A({id:"",username:"",password:"",nama:""}),o=A({username:null,password:null,nama:null}),S=()=>{a.id="",a.username="",a.password="",a.nama="",o.username=null,o.password=null,o.nama=null},V=()=>{g.value.open=!1},L=async l=>{n.value=!0;try{const{data:t}=await axios.get(`/manage-user/${l}/show`),s=t.data;a.id=s.id,a.username=s.username,a.nama=s.nama,C.value.open=!0}catch(t){t.response.status==401&&(localStorage.removeItem("TOKEN"),location.reload())}finally{n.value=!1}},$=()=>{S(),C.value.open=!1},P=l=>{a.id=l,M.value.open=!0},E=()=>{a.id="",M.value.open=!1},x=async()=>{D.value=!0;try{const{data:l}=await axios.get("/manage-user",{params:f});k.value=l.data,u.value=l.meta}catch(l){l.response.status==401&&(localStorage.removeItem("TOKEN"),location.reload())}finally{D.value=!1}},T=async()=>{n.value=!0;try{const{data:l}=await axios.post("/manage-user",a);x(),S(),g.value.open=!1,_({text:"Data User berhasil ditambahkan",type:"success",duration:2e3})}catch(l){if(l.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(l.response.status==422){const t=l.response.data.errors;o.username=t.username?t.username[0]:null,o.password=t.password?t.password[0]:null,o.nama=t.nama?t.nama[0]:null}else _({text:"Server is Maintenent",type:"error",duration:2e3})}finally{n.value=!1}},I=async()=>{n.value=!0;try{const{data:l}=await axios.post(`/manage-user/${a.id}/update`,a);x(),$(),_({text:"Data User berhasil diupdate",type:"success",duration:2e3})}catch(l){if(l.response.status==401)localStorage.removeItem("TOKEN"),location.reload();else if(l.response.status==422){const t=l.response.data.errors;o.username=t.username?t.username[0]:null,o.password=t.password?t.password[0]:null,o.nama=t.nama?t.nama[0]:null}else _({text:"Server is Maintenent",type:"error",duration:2e3})}finally{n.value=!1}},K=async()=>{n.value=!0;try{const{data:l}=await axios.delete(`/manage-user/${a.id}/delete`);x(),E(),_({text:"Data User berhasil dihapus",type:"success",duration:2e3})}catch(l){l.response.status==401&&(localStorage.removeItem("TOKEN"),location.reload())}finally{n.value=!1}},z=l=>{f.page=l,x()};return O(()=>{x()}),(l,t)=>(d(),p(B,null,[e("div",W,[e("div",X,[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[(d(),p("svg",oe,le))])]),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>f.search=s),onChange:t[1]||(t[1]=i(s=>x(),["prevent"])),type:"search",id:"search",class:"pl-12 bg-[#3B3955] border-gray-600 w-full rounded-lg outline-none px-4 py-3 text-xs border",autocomplete:"off",placeholder:"Masukkan Nama User lalu enter"},null,544),[[b,f.search]])])]),e("div",ne,[e("button",{onClick:t[2]||(t[2]=i(s=>g.value.open=!0,["prevent"])),class:"flex items-center justify-center bg-[#342855] border border-[#7939FC] p-2 box-border text-sm font-semibold text-gray-400 hover:text-white hover:bg-[#7939FC]"},[e("div",re,[h(Q)]),de])])]),e("div",ie,[D.value?(d(),w(R,{key:0,fields:["no","nama","username","role"]})):(d(),p("table",ce,[ue,e("tbody",null,[k.value.length!=0?(d(),p(B,{key:0},[(d(!0),p(B,null,Y(k.value,(s,N)=>(d(),p("tr",{key:N,class:"text-sm font-semibold cursor-pointer border-b bg-[#2F2B43] border-[#3A3650] text-[#9D9AB7]"},[e("td",pe,c((u.value.current_page-1)*u.value.per_page+1+N),1),e("td",me,c(s.nama),1),e("td",xe,c(s.username),1),e("td",be,[e("div",fe,[e("a",{href:"#",onClick:i(H=>L(s.id),["prevent"]),class:"block text-gray-600 hover:text-indigo-600"},he,8,ve),e("a",{href:"#",onClick:i(H=>P(s.id),["prevent"]),class:"block text-red-400 hover:text-red-600"},ye,8,ge)])])]))),128)),e("tr",ke,[e("td",Ce,[e("div",Me,[e("div",De,[Ae,m(e("select",{onChange:t[3]||(t[3]=i(s=>x(),["prevent"])),"onUpdate:modelValue":t[4]||(t[4]=s=>f.limit=s),class:"text-xs px-1 py-1 rounded bg-white/10"},je,544),[[q,f.limit]]),e("div",null,"from "+c(u.value.from),1),e("div",null,"to "+c(u.value.to),1)]),e("div",null,[h(J,{total:u.value.total,currentPage:u.value.current_page,perPage:u.value.per_page,onChangePage:z},null,8,["total","currentPage","perPage"])])])])])],64)):(d(),p("tr",Se,Ee))])]))])]),h(U,{ref_key:"modalAdd",ref:g},{"modal-body":F(()=>[e("div",Ne,[n.value?(d(),w(j,{key:0})):y("",!0),e("div",Ve,[Le,e("div",Pe,[e("div",Te,[Ie,e("div",Ke,[m(e("input",{id:"nama",type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>a.nama=s),onFocus:t[6]||(t[6]=s=>o.nama=null),class:v(["w-full rounded-lg outline-none px-4 py-2.5 text-sm border",o.nama?"bg-red-600/10 border-red-500":"bg-[#1f2937] border-gray-600"]),autocomplete:"off"},null,34),[[b,a.nama]])]),e("div",ze,c(o.nama),1)]),e("div",He,[Oe,e("div",Ye,[m(e("input",{id:"username",type:"text","onUpdate:modelValue":t[7]||(t[7]=s=>a.username=s),onFocus:t[8]||(t[8]=s=>o.username=null),class:v(["w-full rounded-lg outline-none px-4 py-2.5 text-sm border",o.username?"bg-red-600/10 border-red-500":"bg-[#1f2937] border-gray-600"]),autocomplete:"off"},null,34),[[b,a.username]])]),e("div",qe,c(o.kode),1)]),e("div",Ge,[Je,e("div",Qe,[m(e("input",{id:"password",type:"password","onUpdate:modelValue":t[9]||(t[9]=s=>a.password=s),onFocus:t[10]||(t[10]=s=>o.password=null),class:v(["w-full rounded-lg outline-none px-4 py-2.5 text-sm border",o.password?"bg-red-600/10 border-red-500":"bg-[#1f2937] border-gray-600"]),autocomplete:"off"},null,34),[[b,a.password]])]),e("div",Re,c(o.password),1)])]),e("div",We,[e("div",Xe,[e("button",{onClick:i(T,["prevent"]),class:"px-4 py-2 rounded bg-indigo-600 text-white text-xs font-semibold border border-indigo-600 hover:bg-transparent hover:text-indigo-600"}," Simpan ",8,Ze),e("button",{onClick:i(V,["prevent"]),class:"px-4 py-2 rounded bg-red-500 text-white text-xs font-semibold border border-red-500 hover:bg-transparent hover:text-red-500"}," Batal ",8,et)])])])])]),_:1},512),h(U,{ref_key:"modalUpdate",ref:C},{"modal-body":F(()=>[e("div",tt,[n.value?(d(),w(j,{key:0})):y("",!0),e("div",st,[ot,e("div",at,[e("div",lt,[nt,e("div",rt,[m(e("input",{id:"nama",type:"text","onUpdate:modelValue":t[11]||(t[11]=s=>a.nama=s),onFocus:t[12]||(t[12]=s=>o.nama=null),class:v(["w-full rounded-lg outline-none px-4 py-2.5 text-sm border",o.nama?"bg-red-600/10 border-red-500":"bg-[#1f2937] border-gray-600"]),autocomplete:"off"},null,34),[[b,a.nama]])]),e("div",dt,c(o.nama),1)]),e("div",it,[ct,e("div",ut,[m(e("input",{id:"username",type:"text","onUpdate:modelValue":t[13]||(t[13]=s=>a.username=s),onFocus:t[14]||(t[14]=s=>o.username=null),class:v(["w-full rounded-lg outline-none px-4 py-2.5 text-sm border",o.username?"bg-red-600/10 border-red-500":"bg-[#1f2937] border-gray-600"]),autocomplete:"off"},null,34),[[b,a.username]])]),e("div",pt,c(o.kode),1)]),e("div",mt,[xt,e("div",bt,[m(e("input",{id:"password",type:"password","onUpdate:modelValue":t[15]||(t[15]=s=>a.password=s),onFocus:t[16]||(t[16]=s=>o.password=null),class:v(["w-full rounded-lg outline-none px-4 py-2.5 text-sm border",o.password?"bg-red-600/10 border-red-500":"bg-[#1f2937] border-gray-600"]),autocomplete:"off"},null,34),[[b,a.password]])]),ft,e("div",vt,c(o.password),1)])]),e("div",_t,[e("div",ht,[e("button",{onClick:i(I,["prevent"]),class:"px-4 py-2 rounded bg-indigo-600 text-white text-xs font-semibold border border-indigo-600 hover:bg-transparent hover:text-indigo-600"}," Simpan ",8,gt),e("button",{onClick:i($,["prevent"]),class:"px-4 py-2 rounded bg-red-500 text-white text-xs font-semibold border border-red-500 hover:bg-transparent hover:text-red-500"}," Batal ",8,wt)])])])])]),_:1},512),h(U,{ref_key:"modalDelete",ref:M},{"modal-body":F(()=>[e("div",yt,[n.value?(d(),w(j,{key:0})):y("",!0),e("div",kt,[Ct,Mt,n.value==!1?(d(),p("div",Dt,[e("div",At,[e("button",{onClick:i(K,["prevent"]),class:"px-4 py-2 rounded bg-indigo-600 text-white text-xs font-semibold border border-indigo-600 hover:bg-transparent hover:text-indigo-600"}," Ya, Hapus ",8,Bt),e("button",{onClick:i(E,["prevent"]),class:"px-4 py-2 rounded bg-red-500 text-white text-xs font-semibold border border-red-500 hover:bg-transparent hover:text-red-500"}," Batal ",8,Ft)])])):y("",!0)])])]),_:1},512)],64))}};export{Vt as default};
